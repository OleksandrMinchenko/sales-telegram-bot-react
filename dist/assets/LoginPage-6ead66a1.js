import{u as f,r as g,j as r,b as j}from"./index-72685862.js";import{u as b,b as y,F as S}from"./Footer-b52c795d.js";import{a as L}from"./firebase.config-a847182b.js";import{C as N,R as F,T as E}from"./pagesStyle-bbdac604.js";import{u as w,L as T}from"./Loader-74f30f07.js";import{n as s,l as v}from"./notiflix-notify-aio-a7bb5e95.js";import{T as o}from"./errorsAndMessages-afba9031.js";import{n as C}from"./emotion-styled.browser.esm-e07269da.js";import{F as A,L as u,I as d,B as I}from"./SaleForm.styled-9b1d0324.js";import"./mixins-0b8905f2.js";const R=C(A)`
  max-width: 400px;
  padding: 20px;
  background-color: #fff;

  border-radius: 12px;
  border: 1px solid;
`;s.Notify.init({borderRadius:"8px",useIcon:!1,plainText:!1,fontSize:"18px",success:{textColor:"#ffd700",background:"#0057b8"},failure:{background:"#ff5549"}});const k={email:"",password:""},U=()=>{const{register:t,handleSubmit:l,formState:{errors:c,isValid:i}}=w({defaultValues:k,mode:"onChange"}),m=f(),[x,e]=g.useState(!1),p=async n=>{e(!0);const a=await v(n);if(a===o.authWrongPassword)return e(!1),s.Notify.failure("Вхід не виконано! <br> Не вірний пароль!");if(a===o.authMissingPassword)return e(!1),s.Notify.failure("Пароль обов'язково!");if(a===o.authInvalidEmail)return e(!1),s.Notify.failure("Не вірна електронна пошта!");if(a===o.authUserNotFound)return e(!1),s.Notify.failure("Вхід не виконано! <br> Такого адміністратора <br> не існує!");if(!a.user)return e(!1),s.Notify.failure("Вхід не виконано!");s.Notify.success("Вітаємо!"),e(!1),m("/admin",{replace:!0})},h=n=>{console.log("form onErrors",n)};return r.jsxs(r.Fragment,{children:[x&&r.jsx(T,{}),r.jsxs(R,{onSubmit:l(p,h),autoComplete:"off",children:[r.jsxs(u,{children:[r.jsx("h2",{children:"Електронна пошта"}),r.jsx(d,{...t("email",{required:!0}),placeholder:"saler@gmail.com"})]}),r.jsxs(u,{children:[r.jsx("h2",{children:"Пароль"}),r.jsx(d,{...t("password",{required:!0}),placeholder:"111111"})]}),r.jsx(I,{disabled:!i,type:"submit","aria-label":"Send",children:"Відправити"})]})]})},X=()=>{const[t,l,c]=b(L),i=f();if(t)return r.jsx(j,{to:"/",replace:!0});if(!t)return r.jsxs(N,{children:[r.jsxs("div",{children:[r.jsx("header",{children:r.jsxs(r.Fragment,{children:[r.jsx(F,{className:"return",onClick:()=>i(-1),type:"button","aria-label":"return button",children:r.jsx(y,{size:"2em"})}),r.jsx(E,{children:"Вхід адміністратора"})]})}),r.jsx("main",{children:r.jsx(U,{})})]}),r.jsx(S,{})]})};export{X as default};
